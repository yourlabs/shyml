command: shyml sh.yml debug hello
retcode: 0
stdout:
shyml_hello() {
    echo hello $@
}
shyml_install() {
    # Setup and activate a venv for a python executable
    # 
    # If venv=none, it will not do any venv.
    # If venv=user, it will use pip install --user.
    if [ "${venv-}" = "user" ]; then
      pip_install="pip install --user"
    elif [ "${venv-}" != "none" ]; then
      export python="${python-python3}"
      export path="${path-.venv.$python}"
      test -d $path || virtualenv --python=$python $path
      set +eux; echo activating $path; source $path/bin/activate; set -eux
    fi
    ${pip_install-pip install} -Ue .${1-}
}
shyml_test() {
    # Test sh.yml
    shyml_install [test] && pytest -v $@
}
shyml_testrewrite() {
    # Test sh.yml
    FIXTURE_REWRITE=1 shyml_test
}
shyml_hello "$@"
