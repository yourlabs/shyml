---
env:
  pypirc_path: $HOME/.pypirc
  toto: 'lol'
shells:
  bash:
  - bash -eux
  docker:
  - docker run
      --rm
      -it
      alpine:lastest

---
name: twine
script:
- for i in $(find . -name '*.po'); do msgfmt $i -o ${i/.po/.mo}; done
- python3 setup.py explain
- rm -rf dist
- python3 setup.py sdist
- twine upload dist/*

---
name: install
script:
- '[ ! -f requirements.txt ] || pip install -r requirements.txt'
- pip install -e .
---
name: monitor
script:
- echo 'toto' > testfile_ertttrer
- cat testfile_ertttrer
- ls -la --color
- echo $toto
- echo $tata
- env
- export LOL='laughing'
- echo $LOL
